[gd_scene load_steps=15 format=3 uid="uid://dm6nqix6ymiye"]

[ext_resource type="Texture2D" uid="uid://b0inuqqk26lyr" path="res://assets/sprites/particles_sprites/brick.png" id="1_6jeg1"]
[ext_resource type="Script" uid="uid://bsdhu3oqrw3aq" path="res://usefull gd/particles.gd" id="1_vu3sw"]
[ext_resource type="Script" uid="uid://dsijbx02ixdhg" path="res://usefull gd/bricks_destructibles.gd" id="3_63qoi"]
[ext_resource type="Texture2D" uid="uid://0pladhxgbi0s" path="res://assets/sprites/particles_sprites/brick_parts.png" id="4_1m7x3"]
[ext_resource type="AudioStream" uid="uid://bqm5wgsxrcw23" path="res://assets/sounds/Block Break.wav" id="5_1m7x3"]

[sub_resource type="Curve" id="Curve_vu3sw"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1e-05, 1), 0.0, 0.0, 0, 0, Vector2(0.790588, 0.918312), 0.0, 0.0, 0, 0, Vector2(0.917647, 0.235637), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="Gradient" id="Gradient_fe0ps"]
offsets = PackedFloat32Array(0.56391, 1)
colors = PackedColorArray(0.710448, 0.138325, 0.028165, 0.517, 0.506, 0.184, 0.122, 0)

[sub_resource type="Curve" id="Curve_fe0ps"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.0843091, 0.988393), 0.0, 0.0, 0, 0, Vector2(0.765808, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="Gradient" id="Gradient_1m7x3"]
offsets = PackedFloat32Array(0, 0.351621, 1)
colors = PackedColorArray(1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0.321696)

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_63qoi"]
friction = 2.0
bounce = 0.5
absorbent = true

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_1m7x3"]
friction = 2.0
absorbent = true

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_ko3uw"]
friction = 2.0
absorbent = true

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_rxckn"]
friction = 2.0
absorbent = true

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_qawmv"]
friction = 2.0
absorbent = true

[node name="Node" type="Node2D"]
script = ExtResource("1_vu3sw")

[node name="dust" type="CPUParticles2D" parent="."]
emitting = false
amount = 10
lifetime = 0.7
one_shot = true
speed_scale = 1.4
explosiveness = 1.0
randomness = 0.12
fract_delta = false
emission_shape = 3
emission_rect_extents = Vector2(32, 32)
direction = Vector2(0, 1)
spread = 124.91
gravity = Vector2(0, -101)
initial_velocity_min = 20.09
initial_velocity_max = 20.09
angular_velocity_min = -238.93
angular_velocity_max = 25.83
angle_min = -238.9
angle_max = 258.2
scale_amount_min = 15.0
scale_amount_max = 37.42
scale_amount_curve = SubResource("Curve_vu3sw")
color = Color(0.505882, 0.184314, 0.121569, 1)
color_ramp = SubResource("Gradient_fe0ps")

[node name="bricks" type="CPUParticles2D" parent="."]
position = Vector2(0, -40)
emitting = false
amount = 5
texture = ExtResource("1_6jeg1")
lifetime = 0.7
one_shot = true
explosiveness = 1.0
randomness = 0.2
emission_shape = 3
emission_rect_extents = Vector2(25, 25)
direction = Vector2(0, 1)
spread = 32.54
initial_velocity_min = 26.79
initial_velocity_max = 107.14
angular_velocity_min = -225.0
angular_velocity_max = 154.29
linear_accel_min = -20.54
linear_accel_max = 3.57
damping_min = 8.482
damping_max = 79.592
angle_min = -192.9
angle_max = 115.8
scale_amount_min = 5.0
scale_amount_max = 5.0
scale_amount_curve = SubResource("Curve_fe0ps")
color_ramp = SubResource("Gradient_1m7x3")

[node name="brick parts" type="Node2D" parent="."]

[node name="1" type="RigidBody2D" parent="brick parts"]
collision_mask = 3
physics_material_override = SubResource("PhysicsMaterial_63qoi")
gravity_scale = 10.0
script = ExtResource("3_63qoi")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="brick parts/1"]
polygon = PackedVector2Array(-24, -3, -24, -24, 9, -24, 6, -16, -18, -3)

[node name="Sprite2D" type="Sprite2D" parent="brick parts/1"]
scale = Vector2(3, 3)
texture = ExtResource("4_1m7x3")
region_enabled = true
region_rect = Rect2(0.0110626, 0.167811, 15.9889, 15.8322)

[node name="2" type="RigidBody2D" parent="brick parts"]
collision_mask = 3
mass = 200.0
physics_material_override = SubResource("PhysicsMaterial_1m7x3")
gravity_scale = 10.0
sleeping = true
continuous_cd = 1
script = ExtResource("3_63qoi")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="brick parts/2"]
scale = Vector2(3, 3)
polygon = PackedVector2Array(8, 8, -2, 8, -1, 4, 3, 1, 5, 1, 8, 3)

[node name="Sprite2D" type="Sprite2D" parent="brick parts/2"]
scale = Vector2(3, 3)
texture = ExtResource("4_1m7x3")
region_enabled = true
region_rect = Rect2(0, 16, 16, 16)

[node name="3" type="RigidBody2D" parent="brick parts"]
collision_mask = 3
mass = 200.0
physics_material_override = SubResource("PhysicsMaterial_ko3uw")
gravity_scale = 10.0
sleeping = true
continuous_cd = 1
script = ExtResource("3_63qoi")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="brick parts/3"]
scale = Vector2(3, 3)
polygon = PackedVector2Array(0, -4, 7, 3, 8, 3, 8, -8, 3, -8)

[node name="Sprite2D" type="Sprite2D" parent="brick parts/3"]
scale = Vector2(3, 3)
texture = ExtResource("4_1m7x3")
region_enabled = true
region_rect = Rect2(16, 0, 16, 16)

[node name="4" type="RigidBody2D" parent="brick parts"]
collision_mask = 3
mass = 200.0
physics_material_override = SubResource("PhysicsMaterial_rxckn")
sleeping = true
continuous_cd = 1
script = ExtResource("3_63qoi")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="brick parts/4"]
scale = Vector2(3, 3)
polygon = PackedVector2Array(-8, -1, -5, -1, -1, 3, 0, 5, -2, 8, -8, 8)

[node name="Sprite2D" type="Sprite2D" parent="brick parts/4"]
scale = Vector2(3, 3)
texture = ExtResource("4_1m7x3")
region_enabled = true
region_rect = Rect2(32, 0, 16, 16)

[node name="5" type="RigidBody2D" parent="brick parts"]
collision_mask = 3
mass = 200.0
physics_material_override = SubResource("PhysicsMaterial_qawmv")
continuous_cd = 1
script = ExtResource("3_63qoi")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="brick parts/5"]
scale = Vector2(3, 3)
polygon = PackedVector2Array(1, -4, 4, 0, -1, 4, -6, -2)

[node name="Sprite2D" type="Sprite2D" parent="brick parts/5"]
scale = Vector2(3, 3)
texture = ExtResource("4_1m7x3")
region_enabled = true
region_rect = Rect2(48, 0, 16, 16)

[node name="Timer" type="Timer" parent="."]
wait_time = 2.5
autostart = true

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("5_1m7x3")
volume_db = 6.358
autoplay = true

[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
