[gd_scene load_steps=18 format=4 uid="uid://365sat4q0r48"]

[ext_resource type="Script" uid="uid://5776k0dgpcro" path="res://node_2d.gd" id="1_fjb31"]
[ext_resource type="Texture2D" uid="uid://dok571e0ydtve" path="res://assets/sprites/things to delete later/Fondo.png" id="2_hb5rr"]
[ext_resource type="PackedScene" uid="uid://50llo1qi88j0" path="res://scenes/characters/Enemies/Goomba/goomba.tscn" id="3_7f5d8"]
[ext_resource type="PackedScene" uid="uid://dklqy63qiphac" path="res://scenes/maps mechanics/blocks/brick.tscn" id="5_j5ljb"]
[ext_resource type="AudioStream" uid="uid://5kbid6fal8dy" path="res://assets/music/Super Mario Bros (NES) Music - Overworld Theme.mp3" id="6_be522"]
[ext_resource type="PackedScene" uid="uid://dkgyk4p8cp883" path="res://scenes/maps mechanics/blocks/mystery_box.tscn" id="6_h0p22"]
[ext_resource type="PackedScene" uid="uid://nssai6e3wv3e" path="res://scenes/maps mechanics/blocks/on_off_block.tscn" id="7_j5ljb"]
[ext_resource type="PackedScene" uid="uid://dl2l6f5sdpxm3" path="res://scenes/maps mechanics/blocks/blue_red_blocks.tscn" id="8_3bkjh"]
[ext_resource type="PackedScene" uid="uid://deq1i7twebxx7" path="res://scenes/characters/Enemies/Bomb/bob_omb.tscn" id="11_be522"]
[ext_resource type="PackedScene" uid="uid://msmsddp3ecl4" path="res://scenes/items/coin.tscn" id="14_6n6n1"]
[ext_resource type="PackedScene" uid="uid://cwxxea211osfr" path="res://scenes/maps mechanics/things/final_flag.tscn" id="15_8yty8"]
[ext_resource type="AudioStream" uid="uid://b3tcawtjgs1tj" path="res://assets/music/Airship Theme - Super Mario Bros. Wonder OST.mp3" id="15_70gn1"]
[ext_resource type="PackedScene" uid="uid://biknwpwud3pkg" path="res://scenes/maps mechanics/things/Checkpoint.tscn" id="15_cnq4c"]
[ext_resource type="PackedScene" uid="uid://b5x07bsssvg6a" path="res://pipe.tscn" id="15_dagfl"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_kdubu"]
texture = ExtResource("2_hb5rr")
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -8, 8, -8, 8, 8, -4, 8, -4, 8)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 4, -8, 4, 8, -4, 8, -8, 8)
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -8, 8, -8, 8, 8, -4, 8)
1:1/0 = 0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 4, -8, 4, 8, -4, 8, -8, 8)
2:1/0 = 0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(0, 0, 8, -8, 8, 8, -8, 8)

[sub_resource type="TileSet" id="TileSet_d21ai"]
physics_layer_0/collision_layer = 5
physics_layer_0/collision_mask = 4
sources/0 = SubResource("TileSetAtlasSource_kdubu")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_cnq4c"]
size = Vector2(53, 185)

[node name="Prueba de goombas" type="Node2D"]
script = ExtResource("1_fjb31")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
scale = Vector2(3, 3)
tile_map_data = PackedByteArray("AAD//wAAAAACAAAAAAD//wEAAAACAAAAAAD//wIAAAACAAAAAAD//wMAAAACAAAAAAD//wQAAAACAAAAAAD//wUAAAACAAAAAAD//wYAAAACAAAAAAD//wcAAAACAAAAAAD//wgAAAACAAAAAAAAAAgAAAACAAAAAAABAAgAAAACAAAAAAACAAgAAAACAAAAAAADAAgAAAACAAAAAAAEAAgAAAACAAAAAAAFAAgAAAACAAAAAAAGAAgAAAACAAAAAAAHAAgAAAACAAAAAAAIAAgAAAACAAAAAAAJAAgAAAACAAAAAAAKAAgAAAACAAAAAAALAAgAAAACAAAAAAAMAAgAAAACAAAAAAANAAgAAAACAAAAAAAOAAgAAAACAAAAAAAPAAgAAAACAAAAAAAQAAgAAAACAAAAAAARAAgAAAACAAAAAAASAAgAAAACAAAAAAATAAgAAAACAAAAAAAUAAgAAAACAAAAAAAVAAgAAAACAAAAAAAWAAgAAAACAAAAAAAXAAgAAAACAAAAAAAYAAgAAAACAAAAAAAZAAgAAAACAAAAAAAaAAgAAAACAAAAAAAbAAgAAAACAAAAAAAcAAgAAAACAAAAAAAdAAgAAAACAAAAAAAeAAgAAAACAAAAAAAfAAgAAAACAAAAAAAgAAgAAAACAAAAAAAhAAgAAAACAAAAAAAiAAgAAAACAAAAAAAjAAgAAAACAAAAAAAkAAgAAAACAAAAAAAlAAgAAAACAAAAAAAmAAgAAAACAAAAAAAnAAgAAAACAAAAAAAoAAgAAAACAAAAAAApAAgAAAACAAAAAAAqAAgAAAACAAAAAAArAAgAAAACAAAAAAAsAAgAAAACAAAAAAAtAAgAAAACAAAAAAAuAAgAAAACAAAAAAAvAAgAAAACAAAAAAAwAAgAAAACAAAAAAAxAAgAAAACAAAAAAAyAAgAAAACAAAAAAAzAAgAAAACAAAAAAA0AAgAAAACAAAAAAA1AAgAAAACAAAAAAA2AAgAAAACAAAAAAA3AAgAAAACAAAAAAAMAAYAAAAAAAAAAAAMAAcAAAAAAAEAAAANAAYAAAABAAAAAAANAAcAAAABAAEAAAAOAAYAAAACAAAAAAAOAAcAAAACAAAAAAARAAYAAAACAAAAAAARAAcAAAACAAAAAAAQAAYAAAACAAAAAAAQAAcAAAACAAAAAAA=")
tile_set = SubResource("TileSet_d21ai")

[node name="Enemies" type="Node" parent="."]

[node name="Goomba" parent="Enemies" instance=ExtResource("3_7f5d8")]
position = Vector2(743, 357)
horizontal_speed = -30

[node name="Goomba4" parent="Enemies" instance=ExtResource("3_7f5d8")]
position = Vector2(400, 357)

[node name="Goomba2" parent="Enemies" instance=ExtResource("3_7f5d8")]
position = Vector2(552, 357)
horizontal_speed = -120

[node name="Bob omb" parent="Enemies" instance=ExtResource("11_be522")]
position = Vector2(1129, 270)
horizontal_speed = -60

[node name="bloques" type="Node" parent="."]

[node name="Brick2" parent="bloques" instance=ExtResource("5_j5ljb")]
position = Vector2(232, 240)

[node name="Brick" parent="bloques" instance=ExtResource("5_j5ljb")]
position = Vector2(328, 240)

[node name="Brick3" parent="bloques" instance=ExtResource("5_j5ljb")]
position = Vector2(424, 240)

[node name="Brick4" parent="bloques" instance=ExtResource("5_j5ljb")]
position = Vector2(472, 240)

[node name="Mystery Box" parent="bloques" instance=ExtResource("6_h0p22")]
position = Vector2(280, 240)
scale = Vector2(3, 3)
bonus_type = 2

[node name="Mystery Box2" parent="bloques" instance=ExtResource("6_h0p22")]
position = Vector2(25, 240)
scale = Vector2(3, 3)
invisible = true

[node name="On-off block" parent="bloques" instance=ExtResource("7_j5ljb")]
position = Vector2(328, 80.0001)

[node name="Blue-red blocks" parent="bloques" instance=ExtResource("8_3bkjh")]
position = Vector2(128, 48)
state = false

[node name="Blue-red blocks2" parent="bloques" instance=ExtResource("8_3bkjh")]
position = Vector2(176, 48)
start_color = 0

[node name="Brick5" parent="bloques" instance=ExtResource("5_j5ljb")]
position = Vector2(520, 240)

[node name="Brick6" parent="bloques" instance=ExtResource("5_j5ljb")]
position = Vector2(184, 240)
scale = Vector2(1.05, 1.05)

[node name="Brick7" parent="bloques" instance=ExtResource("5_j5ljb")]
position = Vector2(136, 240)
scale = Vector2(1.05, 1.05)

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("6_be522")

[node name="Brick" parent="." instance=ExtResource("5_j5ljb")]
position = Vector2(376, 240)

[node name="Bob omb" parent="." instance=ExtResource("11_be522")]
position = Vector2(974, 308)
horizontal_speed = -60

[node name="Coin" parent="." instance=ExtResource("14_6n6n1")]
position = Vector2(496, 155)

[node name="Coin2" parent="." instance=ExtResource("14_6n6n1")]
position = Vector2(560, 155)
coin_type = 1

[node name="Coin3" parent="." instance=ExtResource("14_6n6n1")]
position = Vector2(624, 155)
coin_type = 2

[node name="AudioStreamPlayer2" type="AudioStreamPlayer" parent="."]
stream = ExtResource("15_70gn1")

[node name="enemy_spawn_trigger#Goomba5" parent="." instance=ExtResource("3_7f5d8")]
position = Vector2(-39, 178)

[node name="enemy_spawn_trigger#Goomba3" parent="." instance=ExtResource("3_7f5d8")]
position = Vector2(-184, 202)

[node name="Area2D" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
position = Vector2(696.5, 200.5)
shape = SubResource("RectangleShape2D_cnq4c")

[node name="Checkpoint" parent="." instance=ExtResource("15_cnq4c")]
position = Vector2(32, 164)
checkpoint_id = "2"

[node name="Pipe" parent="." instance=ExtResource("15_dagfl")]
position = Vector2(624, 312)
scale = Vector2(1, 1)
path_to_scene = "res://Bloques/prueba_de_bloques.tscn"
conection = "1"
path_activate = true
new_music = "res://music/Super Mario 3D World - Main Theme -  HD.mp3"

[node name="Marker2D" type="Marker2D" parent="."]
position = Vector2(328, 52)

[node name="FinalFlag" parent="." instance=ExtResource("15_8yty8")]
position = Vector2(1161, -72)

[connection signal="state_changed" from="bloques/On-off block" to="." method="_on_onoff_block_state_changed"]
[connection signal="body_entered" from="Area2D" to="." method="_on_area_2d_body_entered"]
